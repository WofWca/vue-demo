(function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],o[s]&&p.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-demo/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"0ace":function(e,t,n){},"0d4f":function(e,t,n){"use strict";var r=n("0ace"),o=n.n(r);o.a},"14e8":function(e,t,n){"use strict";var r=n("91ab"),o=n.n(r);o.a},"22de":function(e,t,n){"use strict";var r=n("25be"),o=n.n(r);o.a},"25be":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=n("ce5b"),a=n.n(o),s=(n("bf40"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("router-view",{on:{logout_requested:function(t){e.logout()}}})],1)}),i=[],l={methods:{logout:function(){var e=this;this.$store.dispatch("user/logout").then(function(){return e.$router.push({name:"login"})}).catch(function(e){return console.error("Could not log out")})}}},c=l,u=(n("034f"),n("2877")),d=Object(u["a"])(c,s,i,!1,null,null,null);d.options.__file="App.vue";var p=d.exports,f=(n("7f7f"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},v=[],_={},g=Object(u["a"])(_,m,v,!1,null,null,null);g.options.__file="Auth.vue";var h=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:e.drawer_opened,callback:function(t){e.drawer_opened=t},expression:"drawer_opened"}},[n("v-list",[e._l(e.menu_items,function(t){return n("v-list-tile",{key:t.text,attrs:{to:{name:t.router_link_name},"exact-active-class":"primary--text","active-class":"undefined"}},[n("v-list-tile-action",[n("v-icon",[e._v(e._s(t.icon_name))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)}),n("v-divider"),n("v-list-tile",{attrs:{"exact-active-class":"primary--text","active-class":"undefined"},on:{click:function(t){e.$emit("logout_requested")}}},[n("v-list-tile-action",[n("v-icon",[e._v("power_settings_new")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Logout")])],1)],1)],2)],1),n("v-toolbar",{attrs:{fixed:"",app:"",dark:"",color:"primary"}},[n("v-toolbar-side-icon",{on:{click:function(t){e.drawer_opened=!e.drawer_opened}}}),n("v-toolbar-title",[e._v(e._s(e.username))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.$emit("logout_requested")}}},[n("v-icon",[e._v("power_settings_new")])],1)],1),n("v-content",[n("v-container",[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("router-view")],1)],1)],1)],1)},w=[],x=n("be94"),y=n("2f62"),k={data:function(){var e=[{text:"Dashboard",icon_name:"home",router_link_name:"main"},{text:"Well",icon_name:"event_available",router_link_name:"well"},{text:"Add User",icon_name:"person_add",router_link_name:"add_user"},{text:"Create Group",icon_name:"group_add",router_link_name:"create_group"},{text:"Complaints",icon_name:"report",router_link_name:"complaints"},{text:"Other",icon_name:"my_location",router_link_name:"my_zone"}];return{menu_items:e,drawer_opened:!0}},computed:Object(x["a"])({},Object(y["b"])(["authorized"]),Object(y["c"])({username:function(e){return e.user.name}}))},j=k,O=(n("22de"),Object(u["a"])(j,b,w,!1,null,null,null));O.options.__file="Main.vue";var E=O.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("Log in")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"username",label:"Username",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.log_in()}}},[e._v("Log in")])],1)],1),n("v-layout",{attrs:{"align-center":"","justify-center":"","mt-4":""}},[n("span",[e._v("or ")]),n("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")])],1)],1)],1)],1)],1)},S=[],A={methods:{log_in:function(){var e=this;this.$store.dispatch("user/log_in",{username:this.username,password:this.password}).then(function(t){e.$router.push({name:"main"}),e.password=""}).catch(function(e){console.error(e)})}},data:function(){return{username:"",password:""}}},P=A,R=(n("0d4f"),Object(u["a"])(P,$,S,!1,null,null,null));R.options.__file="Login.vue";var z=R.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md5:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("Register")])],1),n("v-card-text",[n("v-form",[n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm12:""}},[n("v-text-field",{attrs:{"prepend-icon":"person",name:"username",label:"Username",type:"text",rules:e.username_rules},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("v-flex",{attrs:{xs12:"",sm12:""}},[n("v-text-field",{attrs:{"prepend-icon":"alternate_email",name:"email",label:"E-mail",type:"email",rules:e.email_rules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password",rules:e.password_rules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{name:"password_repeat",label:"Repeat password",type:"password",rules:e.password_repeat_rules},model:{value:e.password_repeat,callback:function(t){e.password_repeat=t},expression:"password_repeat"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.register()}}},[e._v("Register")])],1)],1),n("v-layout",{attrs:{"align-center":"","justify-center":"","mt-4":""}},[n("span",[e._v("or ")]),n("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)],1)],1)],1)],1)},L=[],N=(n("386d"),{data:function(){var e=this;return{username:"",email:"",password:"",password_repeat:"",username_rules:[function(e){return/^[A-Za-z\d\s_\.]+$/.test(e)||'Only A-Z, a-z, digits, space, underscore ("_") and dot (".")'}],email_rules:[function(e){return!!e||"Required"},function(e){return/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)||"Invalid"}],password_rules:[function(e){var t=8;return e.length>=t||"At least ".concat(t," characters")},function(e){return-1!==e.search(/[A-Z]/)||"At least one uppercase letter"}],password_repeat_rules:[function(t){return e.password===t||"Passwords do not match"}]}},methods:{register:function(){console.log("Register stub")}}}),T=N,U=(n("14e8"),Object(u["a"])(T,C,L,!1,null,null,null));U.options.__file="Register.vue";var F=U.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Not Found")])},q=[],M={},B=Object(u["a"])(M,Z,q,!1,null,null,null);B.options.__file="NotFound.vue";var D=B.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" Dashboard stub ")])},G=[],H={},I=H,W=(n("e2c6"),Object(u["a"])(I,J,G,!1,null,null,null));W.options.__file="Dashboard.vue";var X=W.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Coming soon")]),n("router-link",{attrs:{to:"login"}},[e._v("Login")]),n("br"),n("router-link",{attrs:{to:"register"}},[e._v("Register")])],1)},Q=[],V={},Y=Object(u["a"])(V,K,Q,!1,null,null,null);Y.options.__file="Stub.vue";var ee=Y.exports,te=n("53ca"),ne=n("bc3a"),re=n.n(ne),oe={login:"/auth/login",logout:"/auth/logout",csrf_token:"/csrf_token"},ae=re.a.create({baseURL:"/api",withCredentials:!0,xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});ae.get(oe.csrf_token);var se={log_in:function(e,t){return new Promise(function(n,r){ae.post(oe.login,{username:e,password:t}).then(function(e){n(e.data)}).catch(function(e){r(e)})})},logout:function(){return new Promise(function(e,t){ae.post(oe.logout).then(function(t){e(t.data)}).catch(function(e){t(e)})})}},ie={namespaced:!0,state:{user:{name:"stub_name"}},mutations:{SET_USER:function(e,t){e.user=t}},actions:{log_in:function(e,t){var n=t.username,r=t.password;return new Promise(function(t,o){se.log_in(n,r).then(function(n){e.commit("SET_USER",n),t()}).catch(function(e){o(e)})})},logout:function(e){return new Promise(function(t,n){se.logout().then(function(){e.commit("SET_USER",null),t()}).catch(function(){n()})})}},getters:{authorized:function(e){return null!==e.user&&"object"===Object(te["a"])(e.user)}}};r["default"].use(y["a"]);var le=new y["a"].Store({modules:{user:ie}});r["default"].use(f["a"]);var ce=new f["a"]({base:"/vue-demo/",routes:[{name:"main",path:"/",redirect:{name:"dashboard"},component:E,children:[{name:"dashboard",path:"dashboard",component:X},{name:"well",path:"/well",component:ee},{name:"add_user",path:"/add_user",component:ee},{name:"create_group",path:"/create_group",component:ee},{name:"complaints",path:"/complaints",component:ee},{name:"my_zone",path:"/my_zone",component:ee}]},{name:"auth",path:"/auth",redirect:{name:"login"},component:h,children:[{name:"login",path:"login",component:z},{name:"register",path:"register",component:F}]},{path:"/login",redirect:{name:"login"}},{path:"/register",redirect:{name:"register"}},{path:"*",name:"404",component:D}]});ce.beforeEach(function(e,t,n){le.getters["user/authorized"]?n():"login"!==e.name&&"register"!==e.name?n({name:"login"}):n()});var ue=ce,de=n("9483");Object(de["a"])("".concat("/vue-demo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["default"].use(a.a,{theme:{primary:"#3F51B5",secondary:"#7986CB",accent:"#E91E63",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}}),r["default"].config.productionTip=!1,new r["default"]({router:ue,store:le,render:function(e){return e(p)}}).$mount("#app")},"64a9":function(e,t,n){},"8d88":function(e,t,n){},"91ab":function(e,t,n){},e2c6:function(e,t,n){"use strict";var r=n("8d88"),o=n.n(r);o.a}});
//# sourceMappingURL=app.0d2c2112.js.map